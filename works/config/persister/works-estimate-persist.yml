serviceMaps:
 serviceName: Works Estimate
 mappings:
 - version: 1.0
   name: AbstractEstimate Create
   description: Persists and update abstract estimate  in egw_abstractestimate table
   fromTopic: works-abstract-estimate-createandupdate
   isTransaction: true
   queryMaps:
    - query: INSERT INTO egw_abstractestimate(
        id, tenantid, abstractestimatenumber, subject, fund, referencetype,
        referencenumber, function, description, budgethead, accountcode, scheme, subscheme,
        dateofproposal, department, adminsanctionnumber, adminsanctiondate,
        adminsanctionby, status, beneficiary, modeofallotment, typeofwork,
        natureofwork, subtypeofwork, ward, financialsanctionnumber, financialsanctiondate,
        financialsanctionby, locality, workcategory, councilresolutionnumber,
        councilresolutiondate, workordercreated, billscreated, spilloverflag,
        cancellationreason, cancellationremarks, detailedestimatecreated,
        stateid, implementationperiod, fundavailable, fundsanctioningauthority,
        pmcrequired, pmctype, pmcname, workproposedasperdp, dpremarks, landassetrequired,
        nooflands, otherassetspecificationremarks, createdby, createdtime, lastModifiedBy, lastModifiedTime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
        ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
        ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,
        ?, ?, ?, ?, ?, ?, ?, ?,
        ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET abstractestimatenumber=EXCLUDED.abstractestimatenumber, subject=EXCLUDED.subject, fund=EXCLUDED.fund, referencetype=EXCLUDED.referencetype,
        referencenumber=EXCLUDED.referencenumber, function=EXCLUDED.function, description=EXCLUDED.description, budgethead=EXCLUDED.budgethead, accountcode=EXCLUDED.accountcode, scheme=EXCLUDED.scheme, subscheme=EXCLUDED.subscheme, dateofproposal= EXCLUDED.dateofproposal,
        department=EXCLUDED.department, adminsanctionnumber=EXCLUDED.adminsanctionnumber, adminsanctiondate=EXCLUDED.adminsanctiondate, adminsanctionby=EXCLUDED.adminsanctionby, status=EXCLUDED.status, beneficiary=EXCLUDED.beneficiary, modeofallotment=EXCLUDED.modeofallotment,
        typeofwork=EXCLUDED.typeofwork, natureofwork=EXCLUDED.natureofwork, subtypeofwork=EXCLUDED.subtypeofwork, ward=EXCLUDED.ward, financialsanctionnumber=EXCLUDED.financialsanctionnumber, financialsanctiondate=EXCLUDED.financialsanctiondate,
        financialsanctionby=EXCLUDED.financialsanctionby, locality=EXCLUDED.locality, workcategory=EXCLUDED.workcategory, councilresolutionnumber=EXCLUDED.councilresolutionnumber, councilresolutiondate=EXCLUDED.councilresolutiondate,
        workordercreated=EXCLUDED.workordercreated, billscreated=EXCLUDED.billscreated, spilloverflag=EXCLUDED.spilloverflag, cancellationreason=EXCLUDED.cancellationreason, cancellationremarks=EXCLUDED.cancellationremarks,
        detailedestimatecreated=EXCLUDED.detailedestimatecreated, stateid=EXCLUDED.stateid, asset=EXCLUDED.asset, implementationperiod=EXCLUDED.implementationperiod, fundavailable=EXCLUDED.fundavailable, fundsanctioningauthority=EXCLUDED.fundsanctioningauthority,
        pmcrequired=EXCLUDED.pmcrequired, pmctype=EXCLUDED.pmctype, pmcname=EXCLUDED.pmcname, workproposedasperdp=EXCLUDED.workproposedasperdp, dpremarks=EXCLUDED.dpremarks, landassetrequired=EXCLUDED.landassetrequired, nooflands=EXCLUDED.nooflands,
        otherassetspecificationremarks=EXCLUDED.otherassetspecificationremarks, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted= EXCLUDED.deleted;

      basePath: $.abstractEstimates.*
      jsonMaps:
         
       - jsonPath: $.abstractEstimates.*.id
       
       - jsonPath: $.abstractEstimates.*.tenantId
         
       - jsonPath: $.abstractEstimates.*.abstractEstimateNumber
         
       - jsonPath: $.abstractEstimates.*.subject
       
       - jsonPath: $.abstractEstimates.*.fund.code
       
       - jsonPath: $.abstractEstimates.*.referenceType.code
       
       - jsonPath: $.abstractEstimates.*.referenceNumber
       
       - jsonPath: $.abstractEstimates.*.function.code
       
       - jsonPath: $.abstractEstimates.*.description
       
       - jsonPath: $.abstractEstimates.*.budgetGroup.name

       - jsonPath: $.abstractEstimates.*.accountCode
       
       - jsonPath: $.abstractEstimates.*.scheme.code
             
       - jsonPath: $.abstractEstimates.*.subScheme.code
             
       - jsonPath: $.abstractEstimates.*.dateOfProposal
         dbType: LONG
         
       - jsonPath: $.abstractEstimates.*.department.code
              
       - jsonPath: $.abstractEstimates.*.adminSanctionNumber
       
       - jsonPath: $.abstractEstimates.*.adminSanctionDate
         dbType: LONG
       
       - jsonPath: $.abstractEstimates.*.adminSanctionBy.userName
       
       - jsonPath: $.abstractEstimates.*.status.code
       
       - jsonPath: $.abstractEstimates.*.beneficiary
              
       - jsonPath: $.abstractEstimates.*.modeOfAllotment.code
         
       - jsonPath: $.abstractEstimates.*.typeOfWork.code
       
       - jsonPath: $.abstractEstimates.*.natureOfWork.code
       
       - jsonPath: $.abstractEstimates.*.subTypeOfWork.code
       
       - jsonPath: $.abstractEstimates.*.ward.code
       
       - jsonPath: $.abstractEstimates.*.financialSanctionNumber
           
       - jsonPath: $.abstractEstimates.*.financialSanctionDate
         dbType: LONG
       
       - jsonPath: $.abstractEstimates.*.financialSanctionBy.userName
       
       - jsonPath: $.abstractEstimates.*.locality.code
       
       - jsonPath: $.abstractEstimates.*.workCategory
       
       - jsonPath: $.abstractEstimates.*.councilResolutionNumber
            
       - jsonPath: $.abstractEstimates.*.councilResolutionDate
            
       - jsonPath: $.abstractEstimates.*.workOrderCreated
         type: BOOLEAN
       
       - jsonPath: $.abstractEstimates.*.billsCreated
         type: BOOLEAN
              
       - jsonPath: $.abstractEstimates.*.spillOverFlag
         type: BOOLEAN
       
       - jsonPath: $.abstractEstimates.*.cancellationReason
       
       - jsonPath: $.abstractEstimates.*.cancellationRemarks
       
       - jsonPath: $.abstractEstimates.*.detailedEstimateCreated
         type: BOOLEAN
       
       - jsonPath: $.abstractEstimates.*.stateId
       
       - jsonPath: $.abstractEstimates.*.implementationPeriod
         dbType: LONG
            
       - jsonPath: $.abstractEstimates.*.fundAvailable
         type: BOOLEAN
              
       - jsonPath: $.abstractEstimates.*.fundSanctioningAuthority
              
       - jsonPath: $.abstractEstimates.*.pmcRequired
         type: BOOLEAN
            
       - jsonPath: $.abstractEstimates.*.pmcType
           
       - jsonPath: $.abstractEstimates.*.pmcName.code

       - jsonPath: $.abstractEstimates.*.workProposedAsPerDP

       - jsonPath: $.abstractEstimates.*.dpRemarks

       - jsonPath: $.abstractEstimates.*.landAssetRequired

       - jsonPath: $.abstractEstimates.*.noOfLands

       - jsonPath: $.abstractEstimates.*.otherAssetSpecificationRemarks
       
       - jsonPath: $.abstractEstimates.*.auditDetails.createdBy
 
       - jsonPath: $.abstractEstimates.*.auditDetails.createdTime

       - jsonPath: $.abstractEstimates.*.auditDetails.lastModifiedBy

       - jsonPath: $.abstractEstimates.*.auditDetails.lastModifiedTime

       - jsonPath: $.abstractEstimates.*.deleted
         type: BOOLEAN
       
    - query: INSERT INTO egw_abstractestimate_details(id, abstractestimate, nameofwork, estimateamount, createdby, createdtime, lastmodifiedby, lastmodifiedtime, grossamountbilled, projectcode, tenantid, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET nameofwork=EXCLUDED.nameofwork, estimateamount=EXCLUDED.estimateamount, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, grossamountbilled=EXCLUDED.grossamountbilled, projectcode=EXCLUDED.projectcode,deleted= EXCLUDED.deleted;
      basePath: $.abstractEstimates.*.abstractEstimateDetails.*
      jsonMaps:
         
       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.id

       - jsonPath: $.abstractEstimates[?({id} in @.abstractEstimateDetails[*].id)].id

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.nameOfWork

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.estimateAmount

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.auditDetails.createdBy

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.auditDetails.createdTime

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.auditDetails.lastModifiedBy

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.auditDetails.lastModifiedTime

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.grossAmountBilled

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.projectCode.code

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.tenantId

       - jsonPath: $.abstractEstimates.*.abstractEstimateDetails.*.deleted
         type: BOOLEAN

    - query: INSERT INTO egw_abstractestimate_asset_details(id, tenantid, abstractestimate, asset, assetcondition, assetremarks, landasset, landassetcondition, constructionarea, createdby, createdtime, lastModifiedBy, lastModifiedTime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET asset=EXCLUDED.asset, assetcondition=EXCLUDED.assetcondition, assetremarks=EXCLUDED.assetremarks, landasset=EXCLUDED.landasset, landassetcondition=EXCLUDED.landassetcondition, constructionarea=EXCLUDED.constructionarea, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted= EXCLUDED.deleted;
      basePath: $.abstractEstimates.*.assetDetails.*
      jsonMaps:

        - jsonPath: $.abstractEstimates.*.assetDetails.*.id

        - jsonPath: $.abstractEstimates.*.assetDetails.*.tenantId

        - jsonPath: $.abstractEstimates[?({id} in @.assetDetails[*].id)].id

        - jsonPath: $.abstractEstimates.*.assetDetails.*.asset.code

        - jsonPath: $.abstractEstimates.*.assetDetails.*.assetCondition.name

        - jsonPath: $.abstractEstimates.*.assetDetails.*.assetRemarks

        - jsonPath: $.abstractEstimates.*.assetDetails.*.landAsset

        - jsonPath: $.abstractEstimates.*.assetDetails.*.landAssetCondition.name

        - jsonPath: $.abstractEstimates.*.assetDetails.*.constructionArea

        - jsonPath: $.abstractEstimates.*.assetDetails.*.auditDetails.createdBy

        - jsonPath: $.abstractEstimates.*.assetDetails.*.auditDetails.createdTime
          dbType: LONG

        - jsonPath: $.abstractEstimates.*.assetDetails.*.auditDetails.lastModifiedBy

        - jsonPath: $.abstractEstimates.*.assetDetails.*.auditDetails.lastModifiedTime
          dbType: LONG

        - jsonPath: $.abstractEstimates.*.assetDetails.*.deleted
          type: BOOLEAN

    - query: INSERT INTO egw_abstractestimate_sanction_details(id, tenantid, abstractestimate, sanctiontype, sanctionauthority, deleted) VALUES (?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET sanctiontype=EXCLUDED.sanctiontype, sanctionauthority=EXCLUDED.sanctionauthority, deleted= EXCLUDED.deleted;
      basePath: $.abstractEstimates.*.sanctionDetails.*
      jsonMaps:

        - jsonPath: $.abstractEstimates.*.sanctionDetails.*.id

        - jsonPath: $.abstractEstimates.*.sanctionDetails.*.tenantId

        - jsonPath: $.abstractEstimates[?({id} in @.sanctionDetails[*].id)].id

        - jsonPath: $.abstractEstimates.*.sanctionDetails.*.sanctionType

        - jsonPath: $.abstractEstimates.*.sanctionDetails.*.sanctionAuthority.name

        - jsonPath: $.abstractEstimates.*.assetDetails.*.deleted
          type: BOOLEAN

    - query: INSERT INTO egw_documentdetail(id, tenantid, objectid, objecttype, documenttype, filestore, latitude, longitude, description, dateofcapture, workprogress, createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted) VALUES  (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET
         filestore=EXCLUDED.filestore, documenttype= EXCLUDED.documenttype, latitude=EXCLUDED.latitude, longitude=EXCLUDED.longitude, description=EXCLUDED.description, dateofcapture=EXCLUDED.dateofcapture, workprogress=EXCLUDED.workprogress,
         lastmodifiedtime=EXCLUDED.lastmodifiedtime, lastmodifiedby=EXCLUDED.lastmodifiedby, deleted= EXCLUDED.deleted;

      basePath: $.abstractEstimates.*.documentDetails.*
      jsonMaps:

        - jsonPath: $.abstractEstimates.*.documentDetails.*.id

        - jsonPath: $.abstractEstimates.*.documentDetails.*.tenantId

        - jsonPath: $.abstractEstimates.*.documentDetails.*.objectId

        - jsonPath: $.abstractEstimates.*.documentDetails.*.objectType

        - jsonPath: $.abstractEstimates.*.documentDetails.*.documentType

        - jsonPath: $.abstractEstimates.*.documentDetails.*.fileStore

        - jsonPath: $.abstractEstimates.*.documentDetails.*.latitude

        - jsonPath: $.abstractEstimates.*.documentDetails.*.longitude

        - jsonPath: $.abstractEstimates.*.documentDetails.*.description

        - jsonPath: $.abstractEstimates.*.documentDetails.*.dateOfCapture

        - jsonPath: $.abstractEstimates.*.documentDetails.*.workProgress

        - jsonPath: $.abstractEstimates.*.assetDetails.*.auditDetails.createdBy

        - jsonPath: $.abstractEstimates.*.assetDetails.*.auditDetails.createdTime

        - jsonPath: $.abstractEstimates.*.documentDetails.*.auditDetails.lastModifiedBy

        - jsonPath: $.abstractEstimates.*.documentDetails.*.auditDetails.lastModifiedTime

        - jsonPath: $.abstractEstimates.*.documentDetails.*.deleted
          type: BOOLEAN


 - version: 1.0
   name: Project Code
   description: Persists Project Code in egw_projectcode table
   fromTopic: works-projectcode-create
   isTransaction: true
   queryMaps:
    - query: INSERT INTO egw_projectcode(
        id, tenantid, code, active, description, name, status , 
        completiondate, projectvalue, createdby, createdtime, deleted) VALUES
        (?, ?, ?, ?, ?, ?, ?, 
        ?, ?, ?, ?,
        ?);
      basePath: $.projectCodes.*
      jsonMaps:
         
       - jsonPath: $.projectCodes.*.id
         
       - jsonPath: $.projectCodes.*.tenantId
         
       - jsonPath: $.projectCodes.*.code
       
       - jsonPath: $.projectCodes.*.active
       
       - jsonPath: $.projectCodes.*.description
       
       - jsonPath: $.projectCodes.*.name
       
       - jsonPath: $.projectCodes.*.status.code
       
       - jsonPath: $.projectCodes.*.completionDate
        
       - jsonPath: $.projectCodes.*.projectValue
       
       - jsonPath: $.projectCodes.*.auditDetails.createdBy
         dbType: LONG
 
       - jsonPath: $.projectCodes.*.auditDetails.createdTime

       - jsonPath: $.projectCodes.*.deleted
         type: BOOLEAN

 - version: 1.0
   name: Works Project Code Update
   description: Update Project Code in egw_projectcode table
   fromTopic: works-projectcode-update
   isTransaction: true
   queryMaps:   
    - query: UPDATE egw_projectcode SET status= ?, active=?, projectValue=?, completionDate=?, lastModifiedBy=?, lastModifiedTime=?, deleted=?  WHERE id = ? AND tenantId = ?;
      basePath: $.projectCodes.*
      jsonMaps:
         
       - jsonPath: $.projectCodes.*.status.code

       - jsonPath: $.projectCodes.*.active

       - jsonPath: $.projectCodes.*.projectValue

       - jsonPath: $.projectCodes.*.completionDate

       - jsonPath: $.projectCodes.*.auditDetails.lastModifiedBy
         dbType: LONG
       
       - jsonPath: $.projectCodes.*.auditDetails.lastModifiedTime

       - jsonPath: $.projectCodes.*.id
       
       - jsonPath: $.projectCodes.*.tenantId

       - jsonPath: $.projectCodes.*.deleted
         type: BOOLEAN
       
 - version: 1.0
   name: Detailed AbstractEstimate Create
   description: Persists and updates detailed abstract estimate  in egw_detailed_estimate table
   fromTopic: works-detailed-estimate-createandupdate
   isTransaction: true
   queryMaps:
    - query: INSERT INTO egw_detailedestimate(
        id, tenantid, estimatenumber, estimatedate, nameofwork, description, 
        department, adminsanctionnumber, adminsanctiondate, adminsanctionby, 
        status, workvalue, estimatevalue, projectcode, parent, copiedfrom, 
        approveddate, approvedby, copiedestimate, beneficiary, modeofallotment, 
        workstype, workssubtype, natureofwork, ward, location, longitude, 
        latitude, workcategory, locality, councilresolutionnumber, councilresolutiondate, 
        workordercreated, billscreated, spilloverflag, grossamountbilled, 
        cancellationreason, cancellationremarks, totalincludingre, abstractestimatedetail, 
        stateid, fund, function, functionary, scheme, subscheme, budgetgroup, 
        createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted)
        VALUES (?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, 
        ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET estimatenumber=EXCLUDED.estimatenumber, estimatedate=EXCLUDED.estimatedate, nameofwork=EXCLUDED.nameofwork, description=EXCLUDED.description, department=EXCLUDED.department, adminsanctionnumber=EXCLUDED.adminsanctionnumber, adminsanctiondate=EXCLUDED.adminsanctiondate, adminsanctionby=EXCLUDED.adminsanctionby, status=EXCLUDED.status, workvalue=EXCLUDED.workvalue, estimatevalue=EXCLUDED.estimatevalue, projectcode=EXCLUDED.projectcode, parent=EXCLUDED.parent, copiedfrom=EXCLUDED.copiedfrom, approveddate=EXCLUDED.approveddate, approvedby=EXCLUDED.approvedby, copiedestimate=EXCLUDED.copiedestimate, beneficiary=EXCLUDED.beneficiary, modeofallotment=EXCLUDED.modeofallotment, workstype=EXCLUDED.workstype, workssubtype=EXCLUDED.workssubtype, natureofwork=EXCLUDED.natureofwork, ward=EXCLUDED.ward, location=EXCLUDED.location, longitude=EXCLUDED.longitude, latitude=EXCLUDED.latitude, workcategory=EXCLUDED.workcategory, locality=EXCLUDED.locality, councilresolutionnumber=EXCLUDED.councilresolutionnumber, councilresolutiondate=EXCLUDED.councilresolutiondate,
               workordercreated=EXCLUDED.workordercreated, billscreated=EXCLUDED.billscreated, spilloverflag=EXCLUDED.spilloverflag, grossamountbilled=EXCLUDED.grossamountbilled, cancellationreason=EXCLUDED.cancellationreason, cancellationremarks=EXCLUDED.cancellationremarks, totalincludingre=EXCLUDED.totalincludingre, abstractestimatedetail=EXCLUDED.abstractestimatedetail, stateid=EXCLUDED.stateid, fund=EXCLUDED.fund, function=EXCLUDED.function, functionary=EXCLUDED.functionary, scheme=EXCLUDED.scheme, subscheme=EXCLUDED.subscheme, budgetgroup=EXCLUDED.budgetgroup, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*
      jsonMaps:
         
       - jsonPath: $.detailedEstimates.*.id
       
       - jsonPath: $.detailedEstimates.*.tenantId
         
       - jsonPath: $.detailedEstimates.*.estimateNumber
       
       - jsonPath: $.detailedEstimates.*.estimateDate
         dbType: LONG
         
       - jsonPath: $.detailedEstimates.*.nameOfWork
       
       - jsonPath: $.detailedEstimates.*.description
       
       - jsonPath: $.detailedEstimates.*.department.code
       
       - jsonPath: $.detailedEstimates.*.adminSanctionNumber
       
       - jsonPath: $.detailedEstimates.*.adminSanctionDate
         dbType: LONG
       
       - jsonPath: $.detailedEstimates.*.adminSanctionBy.name
       
       - jsonPath: $.detailedEstimates.*.status.code
       
       - jsonPath: $.detailedEstimates.*.workValue
             
       - jsonPath: $.detailedEstimates.*.estimateValue
             
       - jsonPath: $.detailedEstimates.*.projectCode.code
         
       - jsonPath: $.detailedEstimates.*.parent
                  
       - jsonPath: $.detailedEstimates.*.copiedFrom
       
       - jsonPath: $.detailedEstimates.*.approvedDate
         dbType: LONG
       
       - jsonPath: $.detailedEstimates.*.approvedBy.name
       
       - jsonPath: $.detailedEstimates.*.copiedEstimate
         type: BOOLEAN
       
       - jsonPath: $.detailedEstimates.*.beneficiary
              
       - jsonPath: $.detailedEstimates.*.modeOfAllotment.code
         
       - jsonPath: $.detailedEstimates.*.worksType.code
       
       - jsonPath: $.detailedEstimates.*.worksSubtype.code
       
       - jsonPath: $.detailedEstimates.*.natureOfWork.code
       
       - jsonPath: $.detailedEstimates.*.ward.code
       
       - jsonPath: $.detailedEstimates.*.location
       
       - jsonPath: $.detailedEstimates.*.longitude
       
       - jsonPath: $.detailedEstimates.*.latitude
       
       - jsonPath: $.detailedEstimates.*.workCategory
       
       - jsonPath: $.detailedEstimates.*.locality.code
       
       - jsonPath: $.detailedEstimates.*.councilResolutionNumber
            
       - jsonPath: $.detailedEstimates.*.councilResolutionDate
         dbType: LONG
            
       - jsonPath: $.detailedEstimates.*.workOrderCreated
         type: BOOLEAN
       
       - jsonPath: $.detailedEstimates.*.billsCreated
         type: BOOLEAN
              
       - jsonPath: $.detailedEstimates.*.spillOverFlag
         type: BOOLEAN

       - jsonPath: $.detailedEstimates.*.grossAmountBilled
       
       - jsonPath: $.detailedEstimates.*.cancellationReason
       
       - jsonPath: $.detailedEstimates.*.cancellationRemarks
       
       - jsonPath: $.detailedEstimates.*.totalIncludingRE
       
       - jsonPath: $.detailedEstimates.*.abstractEstimateDetail.id

       - jsonPath: $.detailedEstimates.*.stateId

       - jsonPath: $.detailedEstimates.*.fund.code

       - jsonPath: $.detailedEstimates.*.function.code

       - jsonPath: $.detailedEstimates.*.functionary.code

       - jsonPath: $.detailedEstimates.*.scheme.code

       - jsonPath: $.detailedEstimates.*.subScheme.code

       - jsonPath: $.detailedEstimates.*.budgetGroup.name
       
       - jsonPath: $.detailedEstimates.*.auditDetails.createdBy
 
       - jsonPath: $.detailedEstimates.*.auditDetails.createdTime
         dbType: LONG

       - jsonPath: $.detailedEstimates.*.auditDetails.lastModifiedBy
         dbType: LONG

       - jsonPath: $.detailedEstimates.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.deleted
         type: BOOLEAN

    - query: INSERT INTO egw_estimate_assets(id, tenantid, asset, detailedestimate, createdby, createdtime, lastmodifiedby, lastmodifiedtime,deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET asset=EXCLUDED.asset, detailedestimate=EXCLUDED.detailedestimate, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.assets.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.assets.*.id

       - jsonPath: $.detailedEstimates.*.assets.*.tenantId

       - jsonPath: $.detailedEstimates.*.assets.*.asset.code

       - jsonPath: $.detailedEstimates[?({id} in @.assets[*].id)].id

       - jsonPath: $.detailedEstimates.*.assets.*.auditDetails.createdBy

       - jsonPath: $.detailedEstimates.*.assets.*.auditDetails.createdTime

       - jsonPath: $.detailedEstimates.*.assets.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.assets.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.assets.*.deleted
         type: BOOLEAN
       
    - query: INSERT INTO egw_estimate_deductions(id, tenantid, chartofaccounts, detailedestimate, percentage, amount, createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET chartofaccounts=EXCLUDED.chartofaccounts, percentage=EXCLUDED.percentage, amount=EXCLUDED.amount, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.detailedEstimateDeductions.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.id

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.tenantId

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.chartOfAccounts.glcode

       - jsonPath: $.detailedEstimates[?({id} in @.detailedEstimateDeductions[*].id)].id

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.percentage

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.amount

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.auditDetails.createdBy

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.auditDetails.createdTime

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.detailedEstimateDeductions.*.deleted
         type: BOOLEAN
       
    - query: INSERT INTO egw_multiyear_estimate(id, tenantid, detailedestimate, financialyear, percentage, createdby, createdtime, lastModifiedBy, lastModifiedTime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET detailedestimate=EXCLUDED.detailedestimate, financialyear=EXCLUDED.financialyear, percentage=EXCLUDED.percentage, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.multiYearEstimates.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.id

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.tenantId

       - jsonPath: $.detailedEstimates[?({id} in @.multiYearEstimates[*].id)].id

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.financialYear.finYearRange

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.percentage

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.auditDetails.createdBy

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.auditDetails.createdTime

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.multiYearEstimates.*.deleted
         type: BOOLEAN
       
    - query: INSERT INTO egw_estimate_overheads(id, tenantid, overhead, amount, detailedestimate, createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (tenantid, overhead, detailedestimate) DO UPDATE SET overhead=EXCLUDED.overhead, amount=EXCLUDED.amount, detailedestimate=EXCLUDED.detailedestimate, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.estimateOverheads.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.id

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.tenantId

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.overhead.code

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.amount

       - jsonPath: $.detailedEstimates[?({id} in @.estimateOverheads[*].id)].id

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.auditDetails.createdBy

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.auditDetails.createdTime

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.estimateOverheads.*.deleted
         type: BOOLEAN

    - query: INSERT INTO egw_estimate_activity(id, tenantid, scheduleofrate, nonsor, uom, unitrate, estimaterate, quantity, servicetaxperc, revisiontype, parent, detailedestimate, createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET scheduleofrate=EXCLUDED.scheduleofrate, nonsor=EXCLUDED.nonsor, uom=EXCLUDED.uom, unitrate=EXCLUDED.unitrate, estimaterate=EXCLUDED.estimaterate, quantity=EXCLUDED.quantity, servicetaxperc=EXCLUDED.servicetaxperc, revisiontype=EXCLUDED.revisiontype, parent=EXCLUDED.parent, detailedestimate=EXCLUDED.detailedestimate, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.estimateActivities.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.id

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.tenantId

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.scheduleOfRate.id

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.nonSor.id

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.uom.code

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.unitRate

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateRate

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.quantity

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.serviceTaxPerc

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.revisionType

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.parent.id

       - jsonPath: $.detailedEstimates[?({id} in @.estimateActivities[*].id)].id

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.createdBy

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.createdTime

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.lastModifiedBy

       - jsonPath: $.projedetailedEstimates.*.estimateActivities.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.deleted
         type: BOOLEAN
       
    - query: INSERT INTO egw_estimate_measurementsheet(id, tenantid, slno, identifier, remarks, number, length, width, depthorheight, quantity, estimateactivity, parent, createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted,multiplier) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET slno=EXCLUDED.slno, identifier=EXCLUDED.identifier, remarks=EXCLUDED.remarks, number=EXCLUDED.number, length=EXCLUDED.length, width=EXCLUDED.width, depthorheight=EXCLUDED.depthorheight, quantity=EXCLUDED.quantity, estimateactivity=EXCLUDED.estimateactivity, parent=EXCLUDED.parent, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted, multiplier = EXCLUDED.multiplier;
      basePath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.id

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.tenantId

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.slNo

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.identifier

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.remarks

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.number

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.length

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.width

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.depthOrHeight

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.quantity

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.estimateActivity

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.parent.id

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.auditDetails.createdBy

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.auditDetails.createdTime

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.deleted
         type: BOOLEAN

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.multiplier
       
    - query: INSERT INTO egw_estimate_technicalsanction(id, tenantid, technicalsanctionnumber, detailedestimate, technicalsanctiondate, technicalsanctionby, createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET technicalsanctionnumber=EXCLUDED.technicalsanctionnumber, detailedestimate=EXCLUDED.detailedestimate,
         technicalsanctiondate=EXCLUDED.technicalsanctiondate, technicalsanctionby=EXCLUDED.technicalsanctionby, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.estimateTechnicalSanctions.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.id

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.tenantId

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.technicalSanctionNumber

       - jsonPath: $.detailedEstimates*.estimateTechnicalSanctions.*.detailedEstimate

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.technicalSanctionDate
         dbType: LONG

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.technicalSanctionBy.userName

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.auditDetails.createdBy

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.auditDetails.createdTime

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.estimateTechnicalSanctions.*.deleted
         type: BOOLEAN
         
         
    - query: INSERT INTO egw_nonsor(id, tenantid, description, uom, deleted) VALUES(?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET description=EXCLUDED.description, uom=EXCLUDED.uom, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.estimateActivities.*.nonSor
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.nonSor.id

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.nonSor.tenantId

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.nonSor.description

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.nonSor.uom.code

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.nonSor.deleted

    - query: INSERT INTO egw_documentdetail(id, tenantid, objectid, objecttype, documenttype, filestore, latitude, longitude, description, dateofcapture, workprogress, createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET objectid=EXCLUDED.objectid, objecttype=EXCLUDED.objecttype, documenttype=EXCLUDED.documenttype, filestore=EXCLUDED.filestore, latitude=EXCLUDED.latitude, longitude=EXCLUDED.longitude, description=EXCLUDED.description, dateofcapture=EXCLUDED.dateofcapture, workprogress=EXCLUDED.workprogress, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.documentdetails.*
      jsonMaps:

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.id

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.tenantId

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.objectId

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.objectType

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.documentType

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.fileStore

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.latitude

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.longitude

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.description

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.dateOfCapture

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.workProgress

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.createdBy

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.createdTime

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.lastModifiedBy

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.lastModifiedTime

       -  jsonPath: $.detailedEstimates.*.documentdetails.*.deleted
          type: BOOLEAN


 - version: 1.0
   name: Revision Detailed AbstractEstimate Create/Update
   description: Update revision detailed abstract estimate in egw_detailed_estimate table
   fromTopic: works-revision-detailed-estimate-create-update
   isTransaction: true
   queryMaps:
    - query: INSERT INTO egw_detailedestimate(id, tenantid, estimatenumber, estimatedate, status, estimatevalue, parent, createdby, createdtime, lastModifiedBy, lastModifiedTime, deleted) VALUES  (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT  (id,tenantid) DO UPDATE SET parent=EXCLUDED.parent;
      basePath: $.detailedEstimates.*
      jsonMaps:
         
       - jsonPath: $.detailedEstimates.*.id
       
       - jsonPath: $.detailedEstimates.*.tenantId

       - jsonPath: $.detailedEstimates.*.estimateNumber

       - jsonPath: $.detailedEstimates.*.estimateDate

       - jsonPath: $.detailedEstimates.*.status

       - jsonPath: $.detailedEstimates.*.estimateValue
         
       - jsonPath: $.detailedEstimates.*.parent
                  
       - jsonPath: $.detailedEstimates.*.auditDetails.createdBy
 
       - jsonPath: $.detailedEstimates.*.auditDetails.createdTime
         dbType: LONG
       
       - jsonPath: $.detailedEstimates.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.deleted
         type: BOOLEAN

    - query: INSERT INTO egw_estimate_activity(id, tenantid, scheduleofrate, nonsor, uom, unitrate, estimaterate, quantity, servicetaxperc, revisiontype, parent, detailedestimate, createdby, createdtime, lastmodifiedby, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET scheduleofrate=EXCLUDED.scheduleofrate, nonsor=EXCLUDED.nonsor, uom=EXCLUDED.uom, unitrate=EXCLUDED.unitrate, estimaterate=EXCLUDED.estimaterate, quantity=EXCLUDED.quantity, servicetaxperc=EXCLUDED.servicetaxperc, revisiontype=EXCLUDED.revisiontype, parent=EXCLUDED.parent, detailedestimate=EXCLUDED.detailedestimate, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime;
      basePath: $.detailedEstimates.*.estimateActivities.*
      jsonMaps:
         
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.id
         
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.tenantId
         
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.scheduleOfRate.id
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.nonSor.id
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.uom.code
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.unitRate
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateRate
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.quantity
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.serviceTaxPerc
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.revisionType
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.parent.id
        
       - jsonPath: $.detailedEstimates[?({id} in @.estimateActivities[*].id)].id
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.createdBy
 
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.createdTime
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.deleted
         type: BOOLEAN

    - query: INSERT INTO egw_estimate_measurementsheet(id, tenantid, slno, identifier, remarks, number, length, width, depthorheight, quantity, estimateactivity, parent, createdby, createdtime, lastmodifiedby, lastmodifiedtime, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) on CONFLICT (id,tenantid) DO UPDATE SET slno=EXCLUDED.slno, identifier=EXCLUDED.identifier, remarks=EXCLUDED.remarks, number=EXCLUDED.number, length=EXCLUDED.length, width=EXCLUDED.width, depthorheight=EXCLUDED.depthorheight, quantity=EXCLUDED.quantity, estimateactivity=EXCLUDED.estimateactivity, parent=EXCLUDED.parent, lastmodifiedby=EXCLUDED.lastmodifiedby, lastmodifiedtime=EXCLUDED.lastmodifiedtime, deleted=EXCLUDED.deleted;
      basePath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*
      jsonMaps:
         
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.id
         
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.tenantId
         
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.slNo
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.identifier
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.remarks
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.number
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.length
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.width
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.depthOrHeight
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.quantity
       
       - jsonPath: $.detailedEstimates.*.estimateActivities[?({id} in @.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets[*].id)].id
        
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.estimateMeasurementSheets.*.parent.id
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.createdBy
 
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.createdTime
       
       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.lastModifiedBy

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.auditDetails.lastModifiedTime

       - jsonPath: $.detailedEstimates.*.estimateActivities.*.deleted
         type: BOOLEAN

 - version: 1.0
   name: Abstract Estimate Backupdate on Create of Detailed Estimate
   description: Backupdate abstract estimate flag DetailedEstimateExists as true on creation of Detailed estimate in egw_abstractestimate_details table
   fromTopic: works-abstract-estimate-backupdate-oncreate-detailedestimate
   isTransaction: true
   queryMaps:
    - query: Update egw_abstractestimate_details set detailedEstimateExists=true where id=? and tenantId=?;
      basePath: $.detailedEstimates.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.abstractEstimateDetail.id

       - jsonPath: $.detailedEstimates.*.tenantId

 - version: 1.0
   name: Abstract Estimate Backupdate on Cancel of Detailed Estimate
   description: Backupdate abstract estimate flag DetailedEstimateExists as false on cancel of Detailed estimate in egw_abstractestimate_details table
   fromTopic: works-abstract-estimate-backupdate-oncancel-detailedestimate
   isTransaction: true
   queryMaps:
    - query: Update egw_abstractestimate_details set detailedEstimateExists=false where id=? and tenantId=?;
      basePath: $.detailedEstimates.*
      jsonMaps:

       - jsonPath: $.detailedEstimates.*.abstractEstimateDetail.id

       - jsonPath: $.detailedEstimates.*.tenantId

 - version: 1.0
   name: Detailed Estimate Backupdate on Create of LOA
   description: Backupdate detailed estimate flag loaCreated as true on creationof Letterofaccaptance in egw_detailedestimate table
   fromTopic: works-detailedestimate-backupdate-oncreate-loa
   isTransaction: true
   queryMaps:
    - query: Update egw_detailedestimate set loacreated=true where estimatenumber=? and tenantId=?;
      basePath: $.letterOfAcceptances.*.letterOfAcceptanceEstimates.*
      jsonMaps:

       - jsonPath: $.letterOfAcceptances.*.letterOfAcceptanceEstimates.*.detailedEstimate.estimateNumber

       - jsonPath: $.letterOfAcceptances.*.letterOfAcceptanceEstimates.*.tenantId

 - version: 1.0
   name: Detailed Estimate Backupdate on Cancel of LOA
   description: Backupdate detailed estimate flag loaCreated as false on cancel of Letterofaccaptance in egw_detailedestimate table
   fromTopic: works-detailedestimate-backupdate-oncancel-loa
   isTransaction: true
   queryMaps:
    - query: Update egw_detailedestimate set loacreated=false where estimatenumber=? and tenantId=?;
      basePath: $.letterOfAcceptances.*.letterOfAcceptanceEstimates.*
      jsonMaps:

       - jsonPath: $.letterOfAcceptances.*.letterOfAcceptanceEstimates.*.detailedEstimate.estimateNumber

       - jsonPath: $.letterOfAcceptances.*.letterOfAcceptanceEstimates.*.tenantId
